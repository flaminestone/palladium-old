<div class="container">
  <div class="row">
    <div class="plan-list-box">
      <% @product.plans.reverse.each do |current_plan| %>
          <div class="line-block">
            <div class="plan-data-block">
              <a class="plan-name-link plan_name link" href="<%= product_plan_path(@product, current_plan) %>" title=<%= current_plan.name %>><%= current_plan.name %></a>
            </div>
            <div class="plan-data-block">
              <%= current_plan.updated_at %>
            </div>
            <div class="advanced_status_bar">
              <% @status_data[current_plan.id][:data].each do |data| %>
                  <li class="repository-lang-stats-numbers">
                    <div class="status-attr">
                      <div class="status-box" style="background-color:<%= data['color'] %>;"></div>
                      <div class="lang"><%= data['name'] %></div>
                      <div class="main-count"><%= data['data'] %></div>
                      <div class="percent">(<%= (data['data'].to_f/@status_data[current_plan.id][:all_data]*100).round(2) %>
                        %)</div>
                    </div>
                  </li>
              <% end %>
            </div>
            <div class="repository-lang-stats-graph">
              <% @status_data[current_plan.id][:data].each do |data| %>
                  <span class="language-color" style="width:<%= data['data'].to_f/@status_data[current_plan.id][:all_data]*100 %>%; background-color:<%= data['color'] %>;">status</span>
              <% end %>
            </div>
          </div>
      <% end %>
    </div>
  </div>
</div>