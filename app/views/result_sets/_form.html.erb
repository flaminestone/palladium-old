<% if @result_set.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@result_set.errors.count, "error") %> prohibited this result_set from being saved:</h2>

      <ul>
        <% @result_set.errors.full_messages.each do |message| %>
            <li><%= message %></li>
        <% end %>
      </ul>
    </div>
<% end %>

<div class="container">
  <div class="row">

    <div class="col-md-4 col-md-offset-3">
      <div class="page-header">
        <h1 align="center">Change result set status</h1>
      </div>
      <%= form_for @result_set do |f| %>
          <% @statuses.each do |current_status| %>
              <div class="status-element <%= 'status-element-selected' if current_status.id == @result_set.status %>" style="background-color: <%= current_status.color %>" id=<%= current_status.id %>>
                <%= current_status.name %>
                <%= radio_button_tag('set_status', current_status.id, false, :class => "radio hidden") %>
              </div>
          <% end %>

          <div class="field">
            <%= text_area_tag :data, '', class: 'field' %>
          </div>

          <%= link_to 'Back', result_set_path(@result_set), class: 'btn btn-default' %>
          <%= f.submit class: 'btn btn-primary' %>

      <% end %>
    </div>
  </div>
</div>
<style>
  .status-element {
    width: 75px;
    height: 75px;
    border-style: solid;
    border-color: #2E2F30;
    display: inline-block;
    text-align: center;
    padding-top: 25px;
    cursor: pointer;
  }

  .status-element-selected {
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.7);
  }

  .field {
    padding-top: 10px;
  }
</style>

<script>
  $('.status-element').click(function () {
    $(":input", this).prop('checked', true);
    $(".status-element").removeClass("status-element-selected");
    $(this).addClass("status-element-selected");
  });
</script>
